{"version":3,"file":"page-settings.js","mappings":"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","sources":["webpack://suki/./src/scripts/page-settings/index.js","webpack://suki/./src/scripts/page-settings/index.scss?2d79","webpack://suki/external window [\"wp\",\"components\"]","webpack://suki/external window [\"wp\",\"data\"]","webpack://suki/external window [\"wp\",\"editPost\"]","webpack://suki/external window [\"wp\",\"element\"]","webpack://suki/external window [\"wp\",\"i18n\"]","webpack://suki/external window [\"wp\",\"plugins\"]","webpack://suki/webpack/bootstrap","webpack://suki/webpack/runtime/compat get default export","webpack://suki/webpack/runtime/define property getters","webpack://suki/webpack/runtime/hasOwnProperty shorthand","webpack://suki/webpack/runtime/make namespace object","webpack://suki/./src/scripts/page-settings.js"],"sourcesContent":["import './index.scss';\n\nimport {\n\twithFilters,\n\tButton,\n\tPanel,\n\tPanelBody,\n\tPanelRow,\n\tSelectControl,\n\tSlot,\n} from '@wordpress/components';\n\nimport {\n\tuseSelect,\n\tuseDispatch,\n} from '@wordpress/data';\n\nimport {\n\tPluginSidebar,\n\tPluginSidebarMoreMenuItem,\n} from '@wordpress/edit-post';\n\nimport { __ } from '@wordpress/i18n';\n\nimport { registerPlugin } from '@wordpress/plugins';\n\nconst runFieldOutputs = ( key, rules, value, inheritValue ) => {\n\tconst actualValue = '' !== value ? value : inheritValue;\n\n\trules.forEach( ( rule ) => {\n\t\tif ( undefined === rule.element ) {\n\t\t\treturn;\n\t\t}\n\n\t\trule.pattern = rule.pattern || '$';\n\n\t\tswitch ( rule.type ) {\n\t\t\tcase 'class':\n\t\t\tdefault:\n\t\t\t\tconst regex = new RegExp( rule.pattern.replace( '$', '[\\\\w\\\\-]+' ), 'i' );\n\n\t\t\t\tconst formattedValue = rule.pattern.replace( '$', actualValue );\n\n\t\t\t\tdocument.querySelectorAll( rule.element ).forEach( ( element ) => {\n\t\t\t\t\tif ( element.className.match( regex ) ) {\n\t\t\t\t\t\telement.className = element.className.replace( regex, formattedValue );\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.className += ' ' + formattedValue;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t}\n\t} );\n};\n\nconst SukiPageSettingsSidebarSlotFillFilterableComponent = withFilters( 'suki.pageSettingsAdditionalContentsBottom' )( () => <></> );\n\nconst SukiPageSettingsSidebar = () => {\n\tconst metaValue = useSelect( ( select ) => {\n\t\treturn select( 'core/editor' ).getEditedPostAttribute( 'meta' )[ sukiPageSettingsData.metaKey ];\n\t}, [] );\n\n\tconst editPost = useDispatch( 'core/editor' ).editPost;\n\n\tconst getFieldValue = ( key, defaultValue = '' ) => {\n\t\t// If the specified key exists in the values array, return it. Otherwise, return the defaultValue.\n\t\treturn undefined !== metaValue && undefined !== metaValue[ key ] ? metaValue[ key ] : defaultValue;\n\t};\n\n\tconst setFieldValue = ( key, value ) => {\n\t\t// Combine the meta value.\n\t\tconst newValue = {\n\t\t\t...metaValue,\n\t\t\t[ key ]: value,\n\t\t};\n\n\t\t// Ignore '' value because it's \"inherit\".\n\t\tif ( '' === value ) {\n\t\t\tdelete newValue[ key ];\n\t\t}\n\n\t\t// Update the changes in the data store.\n\t\teditPost( {\n\t\t\tmeta: {\n\t\t\t\t[ sukiPageSettingsData.metaKey ]: newValue,\n\t\t\t},\n\t\t} );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<PluginSidebar\n\t\t\t\tname={ sukiPageSettingsData.metaKey }\n\t\t\t\ttitle={ __( 'Page Settings (Theme)', 'suki' ) }\n\t\t\t>\n\n\t\t\t\t{ sukiPageSettingsData.structures.map( ( panel ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Panel key={ panel.key }>\n\t\t\t\t\t\t\t<PanelBody\n\t\t\t\t\t\t\t\ttitle={ panel.title }\n\t\t\t\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ panel.fields.map( ( field ) => {\n\t\t\t\t\t\t\t\t\tconst value = getFieldValue( field.key );\n\n\t\t\t\t\t\t\t\t\tif ( field.outputs ) {\n\t\t\t\t\t\t\t\t\t\trunFieldOutputs( field.key, field.outputs, value, field.inherit_value );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<PanelRow\n\t\t\t\t\t\t\t\t\t\t\tkey={ field.key }\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"suki-page-settings__row\"\n\t\t\t\t\t\t\t\t\t\t>\n\n\t\t\t\t\t\t\t\t\t\t\t{ 'select' === field.type &&\n\t\t\t\t\t\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={ field.key }\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={ field.label }\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\t\t\t\t\t\t\t\toptions={ field.options }\n\t\t\t\t\t\t\t\t\t\t\t\t\thelp={ field.description }\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ ( newValue ) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue( field.key, newValue );\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ( field.outputs ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trunFieldOutputs( field.key, field.outputs, newValue, field.inherit_value );\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\n\t\t\t\t{ sukiPageSettingsData.showProTeaser &&\n\t\t\t\t\t<Panel>\n\t\t\t\t\t\t<PanelBody\n\t\t\t\t\t\t\ttitle={ __( 'More options in Suki Pro', 'suki' ) }\n\t\t\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\tmargin: '1em 0',\n\t\t\t\t\t\t\t\t\tlistStyle: 'disc',\n\t\t\t\t\t\t\t\t\tpaddingLeft: '1em',\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<li>{ __( 'Transparent header', 'suki' ) }</li>\n\t\t\t\t\t\t\t\t<li>{ __( 'Sticky header', 'suki' ) }</li>\n\t\t\t\t\t\t\t\t<li>{ __( 'Alternate header colors', 'suki' ) }</li>\n\t\t\t\t\t\t\t\t<li>{ __( 'Sticky sidebar', 'suki' ) }</li>\n\t\t\t\t\t\t\t\t<li>{ __( 'Preloader screen', 'suki' ) }</li>\n\t\t\t\t\t\t\t\t<li>{ __( 'Insert custom content into any template hooks (header, footer, before content, etc.).', 'suki' ) }</li>\n\t\t\t\t\t\t\t</ul>\n\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\ttext={ __( 'Learn More', 'suki' ) }\n\t\t\t\t\t\t\t\t\thref={ sukiPageSettingsData.proTeaserUrl }\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\trel=\"noopener\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t</Panel>\n\t\t\t\t}\n\n\t\t\t\t<Slot name=\"SukiPageSettingsAdditionalContentsBottom\" />\n\n\t\t\t\t<SukiPageSettingsSidebarSlotFillFilterableComponent />\n\n\t\t\t</PluginSidebar>\n\n\t\t\t<PluginSidebarMoreMenuItem target={ sukiPageSettingsData.metaKey }>\n\t\t\t\t{ sukiPageSettingsData.title }\n\t\t\t</PluginSidebarMoreMenuItem>\n\t\t</>\n\t);\n};\n\nregisterPlugin(\n\tsukiPageSettingsData.metaKey.replaceAll( '_', '-' ),\n\t{\n\t\ticon: 'admin-settings',\n\t\trender: SukiPageSettingsSidebar,\n\t}\n);\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"editPost\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"plugins\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './page-settings/index';\n"],"names":["withFilters","Button","Panel","PanelBody","PanelRow","SelectControl","Slot","useSelect","useDispatch","PluginSidebar","PluginSidebarMoreMenuItem","__","registerPlugin","runFieldOutputs","key","rules","value","inheritValue","actualValue","forEach","rule","undefined","element","pattern","type","regex","RegExp","replace","formattedValue","document","querySelectorAll","className","match","SukiPageSettingsSidebarSlotFillFilterableComponent","SukiPageSettingsSidebar","metaValue","select","getEditedPostAttribute","sukiPageSettingsData","metaKey","editPost","getFieldValue","defaultValue","setFieldValue","newValue","meta","structures","map","panel","title","fields","field","outputs","inherit_value","label","options","description","showProTeaser","margin","listStyle","paddingLeft","proTeaserUrl","replaceAll","icon","render"],"sourceRoot":""}