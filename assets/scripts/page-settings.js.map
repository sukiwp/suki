{"version":3,"file":"page-settings.js","mappings":"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","sources":["webpack://suki/external window [\"wp\",\"components\"]","webpack://suki/external window [\"wp\",\"data\"]","webpack://suki/external window [\"wp\",\"editPost\"]","webpack://suki/external window [\"wp\",\"element\"]","webpack://suki/external window [\"wp\",\"plugins\"]","webpack://suki/webpack/bootstrap","webpack://suki/webpack/runtime/compat get default export","webpack://suki/webpack/runtime/define property getters","webpack://suki/webpack/runtime/hasOwnProperty shorthand","webpack://suki/webpack/runtime/make namespace object","webpack://suki/./src/scripts/page-settings.js"],"sourcesContent":["module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"editPost\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"plugins\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {\n\tButton,\n\tFlex,\n\tPanel,\n\tPanelBody,\n\tSelectControl,\n} from '@wordpress/components';\n\nimport {\n\tuseSelect,\n\tuseDispatch,\n} from '@wordpress/data';\n\nimport {\n\tPluginSidebar,\n\tPluginSidebarMoreMenuItem,\n} from '@wordpress/edit-post';\n\nimport { Fragment } from '@wordpress/element';\n\nimport { registerPlugin } from '@wordpress/plugins';\n\nconst runFieldOutputs = ( key, rules, value, inheritValue ) => {\n\tconst actualValue = '' !== value ? value : inheritValue;\n\n\trules.forEach( ( rule ) => {\n\t\tif ( undefined === rule.element ) {\n\t\t\treturn;\n\t\t}\n\n\t\trule.pattern = rule.pattern || '$';\n\n\t\tswitch ( rule.type ) {\n\t\t\tcase 'class':\n\t\t\tdefault:\n\t\t\t\tconst regex = new RegExp( rule.pattern.replace( '$', '[\\\\w\\\\-]+' ), 'i' );\n\n\t\t\t\tconst formattedValue = rule.pattern.replace( '$', actualValue );\n\n\t\t\t\tdocument.querySelectorAll( rule.element ).forEach( ( element ) => {\n\t\t\t\t\tif ( element.className.match( regex ) ) {\n\t\t\t\t\t\telement.className = element.className.replace( regex, formattedValue );\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.className += ' ' + formattedValue;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t}\n\t} );\n};\n\nconst SukiPageSettingsSidebar = () => {\n\tconst metaValue = useSelect( ( select ) => {\n\t\treturn select( 'core/editor' ).getEditedPostAttribute( 'meta' )[ sukiPageSettingsData.metaKey ];\n\t}, [] );\n\n\tconst editPost = useDispatch( 'core/editor' ).editPost;\n\n\tconst getFieldValue = ( key, defaultValue = '' ) => {\n\t\t// If the specified key exists in the values array, return it. Otherwise, return the defaultValue.\n\t\treturn undefined !== metaValue && undefined !== metaValue[ key ] ? metaValue[ key ] : defaultValue;\n\t};\n\n\tconst setFieldValue = ( key, value ) => {\n\t\t// Combine the meta value.\n\t\tconst newValue = {\n\t\t\t...metaValue,\n\t\t\t[ key ]: value,\n\t\t};\n\n\t\t// Ignore '' value because it's \"inherit\".\n\t\tif ( '' === value ) {\n\t\t\tdelete newValue[ key ];\n\t\t}\n\n\t\t// Update the changes in the data store.\n\t\teditPost( {\n\t\t\tmeta: {\n\t\t\t\t[ sukiPageSettingsData.metaKey ]: newValue,\n\t\t\t},\n\t\t} );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<PluginSidebar name={ sukiPageSettingsData.metaKey } title={ sukiPageSettingsData.title }>\n\t\t\t\t{ sukiPageSettingsData.structures.map( ( panel ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Panel key={ panel.key }>\n\t\t\t\t\t\t\t<PanelBody\n\t\t\t\t\t\t\t\ttitle={ panel.title }\n\t\t\t\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Flex\n\t\t\t\t\t\t\t\t\tdirection=\"column\"\n\t\t\t\t\t\t\t\t\tgap=\"5\"\n\t\t\t\t\t\t\t\t\tstyle={ { marginBlock: '12px' } }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ panel.fields.map( ( field ) => {\n\t\t\t\t\t\t\t\t\t\tconst value = getFieldValue( field.key );\n\n\t\t\t\t\t\t\t\t\t\tif ( field.outputs ) {\n\t\t\t\t\t\t\t\t\t\t\trunFieldOutputs( field.key, field.outputs, value, field.inherit_value );\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<Fragment key={ field.key }>\n\n\t\t\t\t\t\t\t\t\t\t\t\t{ 'select' === field.type &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={ field.key }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={ field.label }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={ field.options }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={ field.description }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ ( newValue ) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue( field.key, newValue );\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ( field.outputs ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trunFieldOutputs( field.key, field.outputs, newValue, field.inherit_value );\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t{ 'teaser' === field.type &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ 0 < field.content.length &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin: '1em 0',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlistStyle: 'disc',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpaddingLeft: '1em',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ field.content.map( ( lineText, lineKey ) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn <li key={ lineKey }>{ lineText }</li>;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={ field.url }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext={ field.action }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trel=\"noopener\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t\t</Flex>\n\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</PluginSidebar>\n\t\t\t<PluginSidebarMoreMenuItem target={ sukiPageSettingsData.metaKey }>\n\t\t\t\t{ sukiPageSettingsData.title }\n\t\t\t</PluginSidebarMoreMenuItem>\n\t\t</>\n\t);\n};\n\nregisterPlugin(\n\tsukiPageSettingsData.metaKey.replaceAll( '_', '-' ),\n\t{\n\t\ticon: 'admin-settings',\n\t\trender: SukiPageSettingsSidebar,\n\t}\n);\n"],"names":["Button","Flex","Panel","PanelBody","SelectControl","useSelect","useDispatch","PluginSidebar","PluginSidebarMoreMenuItem","Fragment","registerPlugin","runFieldOutputs","key","rules","value","inheritValue","actualValue","forEach","rule","undefined","element","pattern","type","regex","RegExp","replace","formattedValue","document","querySelectorAll","className","match","SukiPageSettingsSidebar","metaValue","select","getEditedPostAttribute","sukiPageSettingsData","metaKey","editPost","getFieldValue","defaultValue","setFieldValue","newValue","meta","title","structures","map","panel","marginBlock","fields","field","outputs","inherit_value","label","options","description","content","length","margin","listStyle","paddingLeft","lineText","lineKey","url","action","replaceAll","icon","render"],"sourceRoot":""}