!function(t){"use strict";t(window),t(document);var i=t("body");t(function(){i.on("click",".suki-admin-upload-control-button",function(i){i.preventDefault();var a=t(this).closest(".suki-admin-upload-control"),e=a.find("input"),n=a.data("wpmedia");if(n)n.open();else{var s={title:a.attr("data-title"),button:{text:a.attr("data-button")},multiple:!1};""!==a.attr("data-library")&&(s.library={type:a.attr("data-library").split(",")}),(n=wp.media.frames.file_frame=wp.media(s)).on("select",function(){var t=n.state().get("selection").first().toJSON();e.val(t.url)}),n.open(),a.data("wpmedia",n)}}),t.fn.select2&&t(".suki-admin-multiselect-control").select2(),t.fn.wpColorPicker&&t(".suki-admin-color-control").find("input").wpColorPicker(),i.on("change",".suki-admin-dependent-field",function(){var i=t(this),a=t('[data-dependency="'+i.attr("name")+'"]'),e=this.value;a.hide(),a.each(function(){var i,a=t(this);switch(i=-1<a.attr("data-value").split(",").indexOf(e),a.attr("data-operator")){case"!=":i||a.show();break;default:i&&a.show()}})}),t(".suki-admin-dependent-field").trigger("change"),t(".suki-admin-metabox").each(function(){var i=t(this),a=i.find(".suki-admin-metabox-nav"),e=i.find(".suki-admin-metabox-panels");a.on("click",".suki-admin-metabox-nav-item a",function(i){i.preventDefault();var n=t(this),s=e.children(n.attr("href"));s&&!s.hasClass("active")&&(a.children(".suki-admin-metabox-nav-item.active").removeClass("active"),n.parent(".suki-admin-metabox-nav-item").addClass("active"),e.children(".suki-admin-metabox-panel.active").removeClass("active"),s.addClass("active"))}),i.trigger("suki-admin-metabox.ready",this)}),t(".suki-rating-notice").on("click",".suki-rating-notice-close",function(i){var a=t(this),e=a.closest(".suki-rating-notice"),n=a.attr("data-suki-rating-notice-repeat");t.ajax({method:"POST",url:ajaxurl,data:{action:"suki_rating_notice_close",repeat_after:n}}),e.remove()}),t(".suki-admin-install-sites-import-plugin-button").on("click",function(i){var a=t(this);return a.prop("disabled","disabled"),a.addClass("disabled"),a.html(SukiAdminData.strings.installing),t.ajax({method:"POST",url:ajaxurl+"?do=suki_install_sites_import_plugin",cache:!1,data:{action:"suki_install_sites_import_plugin",plugin_slug:"suki-sites-import",_ajax_nonce:SukiAdminData.ajax_nonce}}).done(function(t,i,e){t.success?(a.html(SukiAdminData.strings.redirecting_to_demo_list),window.location=SukiAdminData.sitesImportPageURL):alert(SukiAdminData.strings.error_installing_plugin)})})})}(jQuery);